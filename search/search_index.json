{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Auto Depreciation Plugin auto_depreciation is a beancount plugin to deal with fixed assets depreciation. In our daily life, we may buy some valuable goods like cars, phones, furniture, etc. All these transactions are preferred to be documented as transfer instead of expenses, otherwise, you cannot evaluate your daily expenses properly. This plugin can generate depreciation transactions automatically. Installing Copy the file to your PYTHONPATH. You can also copy the plugin to the folder which contains the beancount file and add the following lines into your beancount file: option \"insert_pythonpath\" \"True\" plugin \"auto_depreciation\" Configuration The parameters passed to the plugin are: assets : Fixed assets account. expenses : Depreciation expenses account. method : Depreciation method. Parameter default values are as follows: plugin \"auto_depreciation\" \"{ 'assets':'Assets:Wealth:Fixed-Assets-CNY', 'expenses':'Expenses:Property-Expenses:Depreciation', 'method':'parabola', }\" How to use Xiaoming is a youg man. One day he bought a car and paid in cash. We assume that the original value of that car is 100,000 CNY and it will scrap after 10 years. The residual value is still 1,000 CNY. He can use this plugin like this: Example option \"insert_pythonpath\" \"True\" plugin \"auto_depreciation\" 2020-03-01 commodity CARS name: \"cars\" assets-class: \"fixed assets\" 2020-03-31 * \"\" Assets:Cash -100000.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 CARS {100000.00 CNY, \"BMW\"} useful_life: \"10y\" residual_value: 1000 where we use metadata attached in the posting to pass residual value and useful life to plugin. useful_life is the compulsory item and y represent years while m represent months . residual_value is optional and by default 0. Example 2020-03-31 * \"Example\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, \"Nikon\"} useful_life: \"3m\" residual_value: 200 The code above is equal to 2020-03-31 * \"Example\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 2020-04-30 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {380 CNY, 2020-04-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 220 CNY 2020-05-31 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {380 CNY, 2020-04-30, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {243 CNY, 2020-05-31, \"Nikon\"} Expenses:Property-Expenses:Depreciation 137 CNY 2020-06-30 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {243 CNY, 2020-05-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {200 CNY, 2020-06-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 43 CNY If the amount of fixed assets is greater than 1, all will be depreciated like this: Example 2020-03-31 * \"Example\" Assets:Cash -1200.00 CNY Assets:Wealth:Fixed-Assets-CNY 2 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 2020-04-30 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -2 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 2 LENS {380 CNY, 2020-04-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 440 CNY ...","title":"Introduction"},{"location":"#welcome-to-auto-depreciation-plugin","text":"auto_depreciation is a beancount plugin to deal with fixed assets depreciation. In our daily life, we may buy some valuable goods like cars, phones, furniture, etc. All these transactions are preferred to be documented as transfer instead of expenses, otherwise, you cannot evaluate your daily expenses properly. This plugin can generate depreciation transactions automatically.","title":"Welcome to Auto Depreciation Plugin"},{"location":"#installing","text":"Copy the file to your PYTHONPATH. You can also copy the plugin to the folder which contains the beancount file and add the following lines into your beancount file: option \"insert_pythonpath\" \"True\" plugin \"auto_depreciation\"","title":"Installing"},{"location":"#configuration","text":"The parameters passed to the plugin are: assets : Fixed assets account. expenses : Depreciation expenses account. method : Depreciation method. Parameter default values are as follows: plugin \"auto_depreciation\" \"{ 'assets':'Assets:Wealth:Fixed-Assets-CNY', 'expenses':'Expenses:Property-Expenses:Depreciation', 'method':'parabola', }\"","title":"Configuration"},{"location":"#how-to-use","text":"Xiaoming is a youg man. One day he bought a car and paid in cash. We assume that the original value of that car is 100,000 CNY and it will scrap after 10 years. The residual value is still 1,000 CNY. He can use this plugin like this: Example option \"insert_pythonpath\" \"True\" plugin \"auto_depreciation\" 2020-03-01 commodity CARS name: \"cars\" assets-class: \"fixed assets\" 2020-03-31 * \"\" Assets:Cash -100000.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 CARS {100000.00 CNY, \"BMW\"} useful_life: \"10y\" residual_value: 1000 where we use metadata attached in the posting to pass residual value and useful life to plugin. useful_life is the compulsory item and y represent years while m represent months . residual_value is optional and by default 0. Example 2020-03-31 * \"Example\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, \"Nikon\"} useful_life: \"3m\" residual_value: 200 The code above is equal to 2020-03-31 * \"Example\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 2020-04-30 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {380 CNY, 2020-04-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 220 CNY 2020-05-31 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {380 CNY, 2020-04-30, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {243 CNY, 2020-05-31, \"Nikon\"} Expenses:Property-Expenses:Depreciation 137 CNY 2020-06-30 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {243 CNY, 2020-05-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {200 CNY, 2020-06-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 43 CNY If the amount of fixed assets is greater than 1, all will be depreciated like this: Example 2020-03-31 * \"Example\" Assets:Cash -1200.00 CNY Assets:Wealth:Fixed-Assets-CNY 2 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 2020-04-30 * \"Example-auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -2 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 2 LENS {380 CNY, 2020-04-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 440 CNY ...","title":"How to use"},{"location":"methods/","text":"Depreciation Method Introduction Many depreciation methods are used in accounting. For example, Straight-line, sum-of-years-digit, Diminishing balance method, etc. Gernerally, the basic depreciation period in accounting is month. That means depreciation expenses of every month are identical if we use straight-line method. However, in this plugin, the basic depreciation period is day and depreciation transactions are generated monthly. That means day is the implicit period when calculating present value, while month is the explicit period to generate transactions. Linear Linear method is the same with straight-line method. The present value of assets vs elapsed days is like this: y=-\\frac{p-q}{n}x+p y=-\\frac{p-q}{n}x+p where y y is the present value, p p is the original value, q q is the residual value, n n is the useful life in days and x x is the elapsed time in days. Note 2020-03-31 * \"\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 The syntax above equals 2020-03-31 * \"\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 2020-04-30 * \"auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {468 CNY, 2020-04-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 132 CNY 2020-05-31 * \"auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {468 CNY, 2020-04-30, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {332 CNY, 2020-05-31, \"Nikon\"} Expenses:Property-Expenses:Depreciation 136 CNY 2020-06-30 * \"auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {332 CNY, 2020-05-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {200 CNY, 2020-06-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 132 CNY Here we can see, the depreciation expenses in May is a little bit greater than that in April and June. That's because the present value is a function of useful life in days instead of in months. Parabola Parabola method is the default method and it is the continuous form of sum-of-years-digit method. The depreciation rate in sum-of-years-digit method decrease linearly. Therefore, in the continuous form, the present value curve should be a parabola. y=\\frac{p-q}{n^2}(x-n)^2+q y=\\frac{p-q}{n^2}(x-n)^2+q","title":"Depreciation Methods"},{"location":"methods/#depreciation-method","text":"","title":"Depreciation Method"},{"location":"methods/#introduction","text":"Many depreciation methods are used in accounting. For example, Straight-line, sum-of-years-digit, Diminishing balance method, etc. Gernerally, the basic depreciation period in accounting is month. That means depreciation expenses of every month are identical if we use straight-line method. However, in this plugin, the basic depreciation period is day and depreciation transactions are generated monthly. That means day is the implicit period when calculating present value, while month is the explicit period to generate transactions.","title":"Introduction"},{"location":"methods/#linear","text":"Linear method is the same with straight-line method. The present value of assets vs elapsed days is like this: y=-\\frac{p-q}{n}x+p y=-\\frac{p-q}{n}x+p where y y is the present value, p p is the original value, q q is the residual value, n n is the useful life in days and x x is the elapsed time in days. Note 2020-03-31 * \"\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 The syntax above equals 2020-03-31 * \"\" Assets:Cash -600.00 CNY Assets:Wealth:Fixed-Assets-CNY 1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} useful_life: \"3m\" residual_value: 200 2020-04-30 * \"auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {600.00 CNY, 2020-03-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {468 CNY, 2020-04-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 132 CNY 2020-05-31 * \"auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {468 CNY, 2020-04-30, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {332 CNY, 2020-05-31, \"Nikon\"} Expenses:Property-Expenses:Depreciation 136 CNY 2020-06-30 * \"auto_depreciation:Nikon\" Assets:Wealth:Fixed-Assets-CNY -1 LENS {332 CNY, 2020-05-31, \"Nikon\"} Assets:Wealth:Fixed-Assets-CNY 1 LENS {200 CNY, 2020-06-30, \"Nikon\"} Expenses:Property-Expenses:Depreciation 132 CNY Here we can see, the depreciation expenses in May is a little bit greater than that in April and June. That's because the present value is a function of useful life in days instead of in months.","title":"Linear"},{"location":"methods/#parabola","text":"Parabola method is the default method and it is the continuous form of sum-of-years-digit method. The depreciation rate in sum-of-years-digit method decrease linearly. Therefore, in the continuous form, the present value curve should be a parabola. y=\\frac{p-q}{n^2}(x-n)^2+q y=\\frac{p-q}{n^2}(x-n)^2+q","title":"Parabola"}]}